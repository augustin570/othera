{% extends 'base.html.twig' %}

{% block javascripts %}
  {{ encore_entry_script_tags('app') }}
{% endblock %}
{% block stylesheets %}
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ==" crossorigin="" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.css" />
  {{ encore_entry_link_tags('app') }}
{% endblock %}

{% block body %}
  <div
    class="Application"
    data-drinking-fountain-repentigny-path="{{ asset('build/data/equipement_eau.json') }}"
    data-drinking-fountain-montreal-path="{{ asset('build/data/fontaine_eau_potable_v2018.json') }}"
    data-termometer-icon-path="{{ asset('build/images/termometerIcon.png') }}"
    data-drinking-fountain-icon-path="{{ asset('build/images/drinkingFountainIcon.png') }}"
    data-drinking-fountain-popup="{{ include( 'page/_index/_drinking_fountain.html.twig' ) | e }}"
  >
    <div class="flex items-center flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-2 p-2">
      {{ include( 'page/_index/_address.html.twig', {
          geoapify_key: geoapify_key,
          placeholder: 'Départ'
        }, with_context = false )
      }}
      {{ include( 'page/_index/_address.html.twig', {
          geoapify_key: geoapify_key,
          placeholder: 'Arrivée'
        }, with_context = false )
      }}
      <button
        type="button"
        class="w-full md:w-auto md:flex-grow-0 bg-blue-50 border border-blue-300 text-blue-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5 dark:bg-blue-700 dark:border-blue-600 dark:placeholder-blue-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
      >
        Aller !
      </button>
    </div>
    <div class="p-2 flex space-x-2">
      <button
        type="button"
        class="Application--toggler bg-blue-500 hover:bg-blue-700 text-white font-bold px-4 rounded"
        data-type="drinking-fountain"
      >
        Fontaine
      </button>
      <button
        type="button"
        class="Application--toggler bg-red-500 hover:bg-red-700 text-white font-bold px-4 rounded"
        data-type="termometer"
      >
        Thermomètre
      </button>
    </div>
    <div class="Application--canvas p-2 z-0"
      style="height:400px"
    >
      <!-- Ici s'affichera la carte -->
    </div>
  </div>
{% endblock %}
