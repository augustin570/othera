{% extends 'base.html.twig' %}

{% block javascripts %}
  {{ encore_entry_script_tags('app') }}
{% endblock %}
{% block stylesheets %}
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ==" crossorigin="" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.css" />
  {{ encore_entry_link_tags('app') }}
{% endblock %}

{% block body %}
  <div
    class="Application"
    data-drinking-fountain-repentigny-path="{{ asset('build/data/equipement_eau.json') }}"
    data-drinking-fountain-montreal-path="{{ asset('build/data/fontaine_eau_potable_v2018.json') }}"
    data-termometer-icon-path="{{ asset('build/images/termometerIcon.png') }}"
    data-drinking-fountain-icon-path="{{ asset('build/images/drinkingFountainIcon.png') }}"
    data-drinking-fountain-popup="{{ include( 'page/_index/_drinking_fountain.html.twig' ) | e }}"
    data-graphhopper-key="{{ graphhopper_key }}"
  >
    <div class="flex items-center flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-2 p-2">
      {{ include( 'page/_index/_address.html.twig', {
          geoapify_key: geoapify_key,
          placeholder: 'Départ',
          type: 'departure'
        }, with_context = false )
      }}
      {{ include( 'page/_index/_address.html.twig', {
          geoapify_key: geoapify_key,
          placeholder: 'Arrivée',
          type: 'arrival'
        }, with_context = false )
      }}
      <div class="w-full md:w-auto md:flex-grow-0 flex flex-row space-x-2">
        <button
          type="button"
          class="Application--trip w-full flex-grow md:w-auto md:flex-grow-0 bg-blue-50 border border-blue-300 text-blue-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-1.5 dark:bg-blue-700 dark:border-blue-600 dark:placeholder-blue-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
        >
          Aller !
        </button>
        <button
          type="button"
          class="Application--reset flex items-center justify-center md:w-auto flex-shrink bg-red-50 border border-red-300 text-red-900 text-sm rounded-lg focus:ring-red-500 focus:border-red-500 block p-1.5 dark:bg-red-700 dark:border-red-600 dark:placeholder-red-400 dark:text-white dark:focus:ring-red-500 dark:focus:border-red-500"
        >
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6">
            <path fill-rule="evenodd" d="M5.47 5.47a.75.75 0 011.06 0L12 10.94l5.47-5.47a.75.75 0 111.06 1.06L13.06 12l5.47 5.47a.75.75 0 11-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 01-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 010-1.06z" clip-rule="evenodd" />
          </svg>
        </button>
      </div>
    </div>
    <div class="p-2 flex space-x-2">
      <button
        type="button"
        class="Application--toggler bg-blue-500 hover:bg-blue-700 text-white font-bold px-4 rounded"
        data-type="drinking-fountain"
      >
        Fontaine potable
      </button>
      <button
        type="button"
        class="Application--toggler bg-red-500 hover:bg-red-700 text-white font-bold px-4 rounded"
        data-type="termometer"
      >
        Thermomètre
      </button>
    </div>
    <div class="Application--canvas p-2 z-0 mt-2"
      style="height:400px"
    >
      <!-- Ici s'affichera la carte -->
    </div>
  </div>
{% endblock %}
